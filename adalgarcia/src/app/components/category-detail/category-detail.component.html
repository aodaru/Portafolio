<main
  class="container-fluid d-flex justify-content-center align-items-center mt-5 loading vh-100"
  *ngIf="!posts"
>
  <section class="mt-3">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </section>
</main>

<main class="container-fluid col-10 col-md-5 mt-5 py-4">
  <section class="mt-3">
    <section
      class="d-flex justify-content-center align-items-center p-3 bg-gb-filter mb-3"
    >
      <div class="imgCoffeeContainer mt-3">
        <img
          class="imgCoffee"
          src="../../../assets/img/TazaCafeASCII.gif"
          alt=""
        />
        <div class="imgCoffeeBlock"></div>
      </div>
    </section>
    <h3>{{ page_title }}</h3>
    <section
      class="row row-cols-1 row-cols-md-2 gx-2 gx-md-4 mt-3 justify-content-center"
    >
      <article *ngFor="let post of posts" class="col card-article">
        <a
          [routerLink]="['/entrada/', post.id]"
          class="link-info link-offset-2 link-offset-2-hover link-underline link-underline-opacity-0 link-opacity-75-hover"
        >
          <div class="card border-0">
            <div class="post-image" *ngIf="post.image">
              <img
                src="{{ url + 'post/image/' + post.image }}"
                class="card-img-top img-thumbnail border-0 rounded-4"
                style="width: 280x; height: 160px"
                alt="..."
              />
            </div>
            <div class="post-image w-100" *ngIf="!post.image">
              <img
                src="https://placehold.co/600x400"
                class="card-img-top img-thumbnail"
                style="height: 238px"
                alt="..."
              />
            </div>
            <div class="card-body row row-col-1 w-100 mx-auto text-center">
              <!-- <a [routerLink]="['/entrada/', post.id]" -->
              <!--   class="link-info link-offset-2 link-offset-2-hover link-underline link-underline-opacity-0  link-opacity-75-hover"> -->
              <h5
                class="card-title link-info link-offset-2 link-offset-2-hover link-underline link-underline-opacity-0 link-opacity-75-hover"
              >
                {{ post.title }}
              </h5>
              <!-- </a> -->
              <markdown
                [data]="post.content | frontMatter: 'description'"
              ></markdown>
              <div class="post-buttons d-flex justify-content-start">
                <!-- <a [routerLink]="['/entrada/', post.id]" class="btn btn-success me-1">Leer</a> -->
                <span *ngIf="identity && identity.sub == post.user_id">
                  <a
                    [routerLink]="['/editar-entrada/', post.id]"
                    class="btn btn-warning me-1"
                    >Editar</a
                  >
                  <a
                    [routerLink]="['/borrar-entrada/1', post.id]"
                    class="btn btn-danger"
                    >Borrar</a
                  >
                </span>
              </div>
            </div>
          </div>
        </a>
      </article>
    </section>
  </section>
</main>
